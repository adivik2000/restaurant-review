<%
   jsonable_response = []
   @restaurants.each do |restaurant|
     jsonable_response << {
         :id => restaurant.id,
         :html => render(:partial => "restaurants/parts/tools",
                         :locals => {:restaurant => restaurant})}
   end
%>

<% jsonable_response.each do |item| %>
  $('#restaurant_' + <%= item[:id] %> + '_tools').html("<%= escape_javascript(item[:html]) %>").appear();
<% end %>
